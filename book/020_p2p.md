---
layout: book
title: 图解 P2P 网络
---

P2P 的全写是 Peer-to-Peer ，是一种计算机网络的组织结构。Peer 这个单词的意思是地位相等的人或事物，所以 Peer to Peer 的基本意思是“伙伴对伙伴”，P2P Network 有人翻译成“点对点网络”。同时，与有中心服务器的中央网络系统不同，P2P 网络的每个用户端既是一个节点，也有服务器的功能，也就是说每个节点扮演相同的角色，所以也有人把 P2P 网络翻译成“对等网络”也是很有道理的。


### 中心式与分布式

咱们每天上网访问的网站中，其实绝大多数都是“服务器-客户机”架构的，这是一种中心化的架构，基本长成这个样子（图片来自 wikipedia 的 p2p 的页面）：

![](http://peterpic.qiniudn.com/server-based.png)

可以看出，这里有个老大地位很不一样，大家都去访问他，跟他要内容。

但是分布式的 P2P 网络就很不一样了，没有一台机器和其他的有什么区别，大家都是 Peer，大家都是一样的节点，同时承担着内容分享和内容享用的作用。

![](http://peterpic.qiniudn.com/p2p_network.png)


同时还有一个有意思的现象发生了，对于中心式的系统，访问资源的人越多，网络就会越慢，但是到了 P2P 网络这里，网络越大，下载速度就越快，这个不由得让我们想起了 BT 下载，没错，这个就是 P2P 网络的一个典型应用。


### 没有中央服务器，也就避免了被集权控制

在中心化的这种架构中，中央戊己土坐着的那个老大看上去很牛，其实就是他最脆弱。比如，一旦他瘫痪了，整个系统就瘫痪了，一旦他被一个强权势力关停了，那么整个这个系统也就完蛋了。

![](http://peterpic.qiniudn.com/Single-Point-of-Failure.jpeg)

但是在 P2P 网络上，随便有几个节点突然没有了，整个系统也不会受到影响。举个例子，比特币系统就是 P2P 网络在金融方面的一个应用，系统的核心数据库，也就是比特币的公共账本，的安全是整个系统继续运行的关键。所以在技术上，必须认为每一个网络上的节点都是不完全可信的，每一个具体的节点都可以因为遭受攻击或者被行政命令关停而导致瘫痪，所以去中心化的 P2P 网络就成为了比特币系统设计上的必然选择。

### P2P 网络带来的版权焦虑

其实中心化的系统，有的时候不仅仅更脆弱，而且效率也更地下，还是想想文件分享这个简单地任务，如果大家都去跟那个中央服务器去要数据，那么显然下载速度会变得越来越慢，但是如果我从一个机器上下载了数据之后，马上就自己一边继续下载剩余的数据，一边分享我已经获取的数据，那么其他人就可从走我机器的带宽来下载数据，这就是 P2P 网络了，网络越大，沟通的渠道也就越多，文件分享也就越快。

但是另一方面，P2P 这种架构其实也就很适合普通的用户之间，临时组成网络，来进行文件分享，这样如果大家中这种形式来分享一些有版权保护的影音文件，其实也很难被监控。这也就是为什么在很多地方，提供 BT 下载的各种服务有时不时的会被”依法关停“。甚至很多组织甚至开始积极的去推动立法，想要把整个的 P2P 文件分享技术禁止。这里其实就是一个荒谬的现象：很多人想要消灭一个自然而高效的技术架构。

![](http://peterpic.qiniudn.com/copyleft.jpeg)

但是，也有一部分人，认为分享是好事，如果高效的分享本身违法，那么所谓的这个法（这里基本上就是一些版权或者是专利的保护法）是不是自己本身有问题呢？瑞典有一个拥有议会席位的党派就叫做”盗版党“（The Pirate Party），它的主张就很能引发我们的一些思考。
